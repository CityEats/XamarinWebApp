@using Microsoft.Ajax.Utilities
@model List<DemoApp.Controllers.RestaurantWaitTime>
@{
    Layout = null;
    var IsManifold = (bool)ViewBag.Manifold;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    <style type="text/css">
        body {
            background-color: black;
            color: white;
        }

        table {
            width: 100%;
            font-family: Verdana;
            font-size: 14px;
        }
    </style>
    <script src="~/Scripts/jquery-1.8.2.min.js"></script>
    <script type="text/javascript">
        var refresh = function (partySize) {
            $(".size").html(partySize);
        };
        $(document).ready(
            function () {
                $("#partySize").change(function () { refresh($(this).val()); });
            }
        );

    </script>
</head>
<body>
    @if (IsManifold)
    {
        <div>
            <select id="partySize">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
            </select>
        </div>
    }
    <p>Showing wait times for <span class="size">1</span> people.</p>
    <table>
        @foreach (var restaurant in Model)
        {
            <tr>
                <td>@restaurant.Name</td>
                <td>@restaurant.Minutes<span class="size">1</span> minutes</td>
            </tr>
        }
    </table>

</body>
</html>
